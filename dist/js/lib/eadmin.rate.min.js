/*!
 eadmin极速后台UI框架（我只想要个后台） | @author:317953536@qq.com 
*/
"use strict";var _createClass=function(){function l(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(e,t,a){return t&&l(e.prototype,t),a&&l(e,a),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Rate=function(){function a(e,t){if(_classCallCheck(this,a),this.domCache=$(e),0!=this.domCache.length){this.domCache.addClass("rate"),this.dom=e;this.param=$.extend({default:0,disabled:!1,num:5,change:null},t),0<this.param.default&&this.domCache.data("level",this.param.default),this.run()}else console.log("没有找到"+e+"，创建评分失败")}return _createClass(a,[{key:"run",value:function(){this._create(),this._event()}},{key:"_create",value:function(){for(var e="",t=1;t<=this.param.num;t++){var a=this.param.default>=t?" full":"";e+='<div class="animated faster star fa fa-star\n\t\t\t\t\t\t'+(this.param.disabled?" disabled":"")+"\n\t\t\t\t\t\t"+a+'" \n\t\t\t\t\t\tdata-level="'+t+'">\n\t\t\t\t\t</div>'}this.domCache.html(e)}},{key:"_event",value:function(){var t={prev:0,level:0},a=this;this.domCache.on("mouseover",".star",function(){var e={this:$(this)};e.parent=e.this.parent(),t.level=e.this.data("level"),1==t.level?e.this.addClass("full"):e.parent.children(".star:lt("+t.level+")").addClass("full"),t.level-t.prev<0&&e.parent.children(".star:gt("+(t.level-1)+")").removeClass("full")}).on("mouseout",".star",function(){t.prev=t.level}).on("click",".star:not(.disabled)",function(){var e={this:$(this)};e.this.removeClass("pulse").addClass("pulse").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e.this.removeClass("pulse")}),e.this.parent().data("level",t.level),null!=a.param.change&&_.isFunction(a.param.change)&&a.param.change(t.level)}).on("mouseleave",function(){t.this=$(this),t.choose=t.this.data("level"),null!=t.choose?(t.this.children(".star").removeClass("full"),t.this.children(".star:lt("+t.choose+")").addClass("full")):t.this.children(".star").removeClass("full")})}}]),a}();